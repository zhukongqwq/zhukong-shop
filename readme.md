# Koishi ç§¯åˆ†å•†åŸæ’ä»¶ (zhukong-shop)

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ Koishi ç§¯åˆ†å•†åŸæ’ä»¶ï¼Œæ”¯æŒç”¨æˆ·è´­ä¹°å‘½ä»¤ä½¿ç”¨æ¬¡æ•°ã€æŸ¥çœ‹å•†å“ã€ç®¡ç†ç§¯åˆ†æ¶ˆè´¹è®°å½•ç­‰åŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸª **å®Œæ•´çš„ç§¯åˆ†å•†åŸç³»ç»Ÿ** - ç”¨æˆ·ç•Œé¢å‹å¥½çš„å•†åº—å±•ç¤º
- ğŸ”§ **å‘½ä»¤æ¬¡æ•°ç®¡ç†** - æ”¯æŒé™åˆ¶ç‰¹å®šå‘½ä»¤çš„ä½¿ç”¨æ¬¡æ•°
- ğŸ’° **æ— ç¼è´§å¸é›†æˆ** - ä¸ `zhukong-currency-system` æ’ä»¶å®Œç¾é›†æˆ
- ğŸ‘‘ **å®Œå–„çš„ç®¡ç†ç³»ç»Ÿ** - å•†å“æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤å…¨åŠŸèƒ½æ”¯æŒ
- ğŸ“Š **ä½¿ç”¨è®°å½•è¿½è¸ª** - è¯¦ç»†è®°å½•ç”¨æˆ·çš„è´­ä¹°å’Œä½¿ç”¨è¡Œä¸º
- âš™ï¸ **é«˜åº¦å¯é…ç½®** - æ”¯æŒè‡ªå®šä¹‰è´§å¸åç§°ã€å†·å´æ—¶é—´ã€åº“å­˜ç­‰

## ğŸ“¦ å®‰è£…

### å‰ææ¡ä»¶
1. å·²å®‰è£…å¹¶é…ç½®å¥½ [koishi-plugin-zhukong-currency-system](https://github.com/yourname/koishi-plugin-zhukong-currency-system) æ’ä»¶
2. Koishi ç‰ˆæœ¬ >= 4.15.0

### å®‰è£…æ–¹å¼

#### æ–¹æ³•ä¸€ï¼šé€šè¿‡å¸‚åœºå®‰è£…ï¼ˆæ¨èï¼‰
åœ¨ Koishi æ§åˆ¶å°çš„æ’ä»¶å¸‚åœºæœç´¢ `zhukong-shop` å¹¶å®‰è£…ã€‚

#### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…
```bash
# è¿›å…¥ä½ çš„ Koishi é¡¹ç›®
cd your-koishi-project

# å®‰è£…æ’ä»¶
npm install koishi-plugin-zhukong-shop
# æˆ–
yarn add koishi-plugin-zhukong-shop
```

âš™ï¸ é…ç½®

åœ¨ koishi.yml ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```yaml
plugins:
  zhukong-shop:
    currencyName: 'ç§¯åˆ†'              # è´§å¸åç§°ï¼Œå¿…é¡»ä¸è´§å¸ç³»ç»Ÿä¸€è‡´
    commandPrefix: '$'                # æŒ‡ä»¤å‰ç¼€
    enableAutoRestore: true          # æ’ä»¶é‡è½½æ—¶è‡ªåŠ¨æ¢å¤ä½¿ç”¨æ¬¡æ•°
    enableLogging: true              # å¯ç”¨è¯¦ç»†æ—¥å¿—è®°å½•
    defaultMaxUsage: 10              # å‘½ä»¤å•†å“çš„é»˜è®¤æœ€å¤§ä½¿ç”¨æ¬¡æ•°
    defaultCooldown: 5               # å‘½ä»¤å•†å“çš„é»˜è®¤å†·å´æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
    adminUsers:                      # ç®¡ç†å‘˜ç”¨æˆ·åˆ—è¡¨
      - 'onebot:123456789'           # æ ¼å¼ï¼šå¹³å°:ç”¨æˆ·ID
      - 'discord:987654321'
```

ğŸ® ä½¿ç”¨æŒ‡å—

ç”¨æˆ·å‘½ä»¤

å‘½ä»¤ åˆ«å è¯´æ˜ ç¤ºä¾‹
$shop [é¡µç ] å•†åº— æŸ¥çœ‹å•†åº—å•†å“åˆ—è¡¨ $shopã€$shop 2
$buy <å•†å“å> è´­ä¹° è´­ä¹°æŒ‡å®šå•†å“ $buy é«˜çº§æœç´¢
$use <å‘½ä»¤å> ä½¿ç”¨ ä½¿ç”¨å·²è´­ä¹°çš„å‘½ä»¤ $use search
$myitems æˆ‘çš„å•†å“ æŸ¥çœ‹å·²è´­ä¹°çš„å•†å“å’Œä½¿ç”¨æƒ…å†µ $myitems

ç®¡ç†å‘˜å‘½ä»¤

å‘½ä»¤ è¯´æ˜ ç¤ºä¾‹
$shopadmin æ˜¾ç¤ºç®¡ç†å¸®åŠ© $shopadmin
$shopadmin.add <åç§°> <ä»·æ ¼> <ç±»å‹> æ·»åŠ æ–°å•†å“ $shopadmin.add é«˜çº§æœç´¢ 500 command -c search -m 10
$shopadmin.update <å•†å“ID> æ›´æ–°å•†å“ä¿¡æ¯ $shopadmin.update 1 -p 600 -s 50
$shopadmin.delete <å•†å“ID> åˆ é™¤å•†å“ $shopadmin.delete 1
$shopadmin.list [é¡µç ] æŸ¥çœ‹æ‰€æœ‰å•†å“ $shopadmin.list
$shopadmin.usage.add <ç”¨æˆ·> <å‘½ä»¤> <æ¬¡æ•°> ä¸ºç”¨æˆ·å¢åŠ ä½¿ç”¨æ¬¡æ•° $shopadmin.usage.add onebot:123456 search 5
$shopadmin.usage.list [é¡µç ] æŸ¥çœ‹ä½¿ç”¨ç»Ÿè®¡ $shopadmin.usage.list

å•†å“ç±»å‹è¯´æ˜

1. command (å‘½ä»¤ç±»å‹)ï¼šç”¨æˆ·å¯ä»¥è´­ä¹°å‘½ä»¤çš„ä½¿ç”¨æ¬¡æ•°
   ```bash
   # ç¤ºä¾‹ï¼šæ·»åŠ ä¸€ä¸ªæœç´¢å‘½ä»¤ï¼Œä»·æ ¼500ç§¯åˆ†ï¼Œæœ€å¤šä½¿ç”¨10æ¬¡ï¼Œå†·å´5åˆ†é’Ÿ
   $shopadmin.add é«˜çº§æœç´¢ 500 command -d "é«˜çº§æœç´¢åŠŸèƒ½" -c search -m 10 -cd 5
   ```
2. role (è§’è‰²ç±»å‹)ï¼šé¢„ç•™åŠŸèƒ½ï¼Œå¯ç”¨äºæƒé™ç®¡ç†
3. item (ç‰©å“ç±»å‹)ï¼šè™šæ‹Ÿç‰©å“ï¼Œæ— å®é™…åŠŸèƒ½
   ```bash
   # ç¤ºä¾‹ï¼šæ·»åŠ ä¸€ä¸ªæ— é™åº“å­˜çš„è™šæ‹Ÿå¾½ç« 
   $shopadmin.add ä¼šå‘˜å¾½ç«  1000 item -d "å°Šè´µä¼šå‘˜æ ‡è¯†" -s -1
   ```

ğŸ”§ å¼€å‘ä¸æ„å»º

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/yourname/koishi-plugin-zhukong-shop.git
cd koishi-plugin-zhukong-shop

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰
npm run dev

# æ„å»ºé¡¹ç›®
npm run build
```

ğŸ“ é¡¹ç›®ç»“æ„

```
koishi-plugin-zhukong-shop/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ index.ts          # æ’ä»¶ä¸»æ–‡ä»¶
â”œâ”€â”€ lib/                  # ç¼–è¯‘åçš„æ–‡ä»¶ï¼ˆæ„å»ºåç”Ÿæˆï¼‰
â”œâ”€â”€ package.json          # é¡¹ç›®é…ç½®
â”œâ”€â”€ readme.md            # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ tsconfig.json        # TypeScript é…ç½®
```

ğŸ¤ ä¾èµ–å…³ç³»

Â· å¿…é¡»ï¼škoishi-plugin-zhukong-currency-system - æä¾›åŸºç¡€çš„è´§å¸ç³»ç»Ÿæ”¯æŒ
Â· æ ¸å¿ƒï¼škoishi (>=4.15.0) - Koishi æœºå™¨äººæ¡†æ¶

ğŸ› å¸¸è§é—®é¢˜

Q1: æ’ä»¶å®‰è£…åæ— æ³•å¯åŠ¨ï¼Ÿ

Â· ç¡®ä¿å·²å®‰è£…å¹¶æ­£ç¡®é…ç½® zhukong-currency-system æ’ä»¶
Â· æ£€æŸ¥ Koishi ç‰ˆæœ¬æ˜¯å¦ >= 4.15.0

Q2: ç”¨æˆ·è´­ä¹°å•†å“æ—¶æç¤º"ç”¨æˆ·ä¸å­˜åœ¨"ï¼Ÿ

Â· ç¡®ä¿ç”¨æˆ·å·²åœ¨è´§å¸ç³»ç»Ÿä¸­åˆå§‹åŒ–ï¼ˆé€šå¸¸é€šè¿‡å‘è¨€è‡ªåŠ¨å®Œæˆï¼‰

Q3: å¦‚ä½•è®¾ç½®ç®¡ç†å‘˜ï¼Ÿ

Â· åœ¨é…ç½®æ–‡ä»¶çš„ adminUsers ä¸­æ·»åŠ ä½ çš„ç”¨æˆ·IDï¼Œæ ¼å¼ï¼šå¹³å°:ç”¨æˆ·ID

Q4: å¦‚ä½•æŸ¥çœ‹è¯¦ç»†çš„é”™è¯¯æ—¥å¿—ï¼Ÿ

Â· åœ¨é…ç½®ä¸­è®¾ç½® enableLogging: trueï¼Œç„¶ååœ¨ Koishi æ§åˆ¶å°æŸ¥çœ‹æ—¥å¿—

ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ LICENSE æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

ğŸ™ è‡´è°¢

Â· Koishi - ä¼˜ç§€çš„æœºå™¨äººæ¡†æ¶
Â· zhukong-currency-system - æä¾›è´§å¸ç³»ç»ŸåŸºç¡€

---

æ¸©é¦¨æç¤ºï¼šä½¿ç”¨å‰è¯·ç¡®ä¿å·²ä»”ç»†é˜…è¯»æœ¬è¯´æ˜æ–‡æ¡£ã€‚å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤ Issueã€‚